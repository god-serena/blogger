{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 109, "column": 0}, "map": {"version":3,"sources":["file:///blogger/src/lib/blogger.ts"],"sourcesContent":["import axios from \"axios\"\n\nasync function BloggerApi<T = unknown>({\n    method = \"GET\",\n    payload,\n    endpoint,\n}: {\n    method?: string\n    payload?: Record<string, unknown>\n    endpoint: string\n}): Promise<T> {\n    const access_token = localStorage.getItem(\"access_token\")\n\n    const axiosInstance = axios.create({\n        baseURL: \"http://localhost:8000/blogger-api/\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            ...(access_token\n                ? { Authorization: `Bearer ${access_token}` }\n                : {}),\n        },\n    })\n\n    try {\n        const response = await axiosInstance.request({\n            ...(payload ? { data: JSON.stringify(payload) } : {}),\n            method: method.toLowerCase(),\n            url: endpoint,\n        })\n        return response.data\n    } catch (error) {\n        if (axios.isAxiosError(error)) throw error.response\n        else throw error\n    }\n}\n\nexport default BloggerApi\n"],"names":[],"mappings":";;;AAAA;;AAEA,eAAe,WAAwB,EACnC,SAAS,KAAK,EACd,OAAO,EACP,QAAQ,EAKX;IACG,MAAM,eAAe,aAAa,OAAO,CAAC;IAE1C,MAAM,gBAAgB,qIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;QAC/B,SAAS;QACT,SAAS;YACL,gBAAgB;YAChB,GAAI,eACE;gBAAE,eAAe,CAAC,OAAO,EAAE,cAAc;YAAC,IAC1C,CAAC,CAAC;QACZ;IACJ;IAEA,IAAI;QACA,MAAM,WAAW,MAAM,cAAc,OAAO,CAAC;YACzC,GAAI,UAAU;gBAAE,MAAM,KAAK,SAAS,CAAC;YAAS,IAAI,CAAC,CAAC;YACpD,QAAQ,OAAO,WAAW;YAC1B,KAAK;QACT;QACA,OAAO,SAAS,IAAI;IACxB,EAAE,OAAO,OAAO;QACZ,IAAI,qIAAA,CAAA,UAAK,CAAC,YAAY,CAAC,QAAQ,MAAM,MAAM,QAAQ;aAC9C,MAAM;IACf;AACJ;uCAEe","debugId":null}},
    {"offset": {"line": 144, "column": 0}, "map": {"version":3,"sources":["file:///blogger/src/components/Editor.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/ban-ts-comment */\n// @ts-nocheck\n\"use client\"\n\nimport { useEffect, useRef, useState } from \"react\"\nimport \"quill/dist/quill.snow.css\"\nimport \"@/css_overrides/Editor.css\"\n\nexport default function QuillEditor({\n    onChange,\n    initialContent,\n    textOnly = false,\n    truncText = false,\n    maxLength = 2,\n}) {\n    const editorRef = useRef(null)\n    const quillInstance = useRef(null)\n    const [truncatedText, setTruncatedText] = useState(\"\")\n    const [content, setContent] = useState(initialContent)\n\n    useEffect(() => {\n        const toolbars = document.getElementsByClassName(\"ql-toolbar\")\n        if (toolbars.length) {\n            for (const toolbar of toolbars) {\n                toolbar.remove()\n            }\n        }\n        let quill = undefined\n        async function initQuill() {\n            if (!editorRef.current) return\n\n            const Quill = (await import(\"quill\")).default\n\n            const toolbar = [\n                [{ header: [1, 2, 3, false] }],\n                [\"bold\", \"italic\", \"underline\", \"strike\"],\n                [{ list: \"ordered\" }, { list: \"bullet\" }],\n                [\"link\", \"image\"],\n                [\"clean\"],\n            ]\n\n            quill = new Quill(editorRef.current, {\n                theme: \"snow\",\n                placeholder: \"What do you have in mind?\",\n                modules: {\n                    toolbar: textOnly ? false : toolbar,\n                },\n                readOnly: textOnly,\n            })\n\n            quill.setContents(initialContent)\n            quill.on(\"text-change\", () => {\n                const delta = quill.getContents()\n                setContent(delta)\n            })\n\n            if (truncText) {\n                const plain = quill.getText().trim()\n                setTruncatedText(\n                    plain.length > maxLength\n                        ? plain.slice(0, maxLength) + \"...\"\n                        : plain,\n                )\n            }\n            quillInstance.current = quill\n\n            return () => {\n                quillInstance.current.off(\"text-change\", () => {})\n                quillInstance.current = null\n            }\n        }\n\n        initQuill()\n    }, [initialContent, textOnly, maxLength, truncText])\n\n    useEffect(() => {\n        onChange(content)\n    }, [content, onChange])\n\n    if (truncText && quillInstance.current) {\n        return <p className=\"text-[14px] text-gray-500\">{truncatedText}</p>\n    }\n\n    return (\n        <div\n            ref={editorRef}\n            className={`editor ${textOnly ? \"select-none\" : \"select-text\"}`}\n        />\n    )\n}\n"],"names":[],"mappings":"AAAA,oDAAoD,GACpD,cAAc;;;;;AAGd;AAFA;;;;;AAMe,SAAS,YAAY,EAChC,QAAQ,EACR,cAAc,EACd,WAAW,KAAK,EAChB,YAAY,KAAK,EACjB,YAAY,CAAC,EAChB;IACG,MAAM,YAAY,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAE;IACzB,MAAM,gBAAgB,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAE;IAC7B,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACnD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,MAAM,WAAW,SAAS,sBAAsB,CAAC;QACjD,IAAI,SAAS,MAAM,EAAE;YACjB,KAAK,MAAM,WAAW,SAAU;gBAC5B,QAAQ,MAAM;YAClB;QACJ;QACA,IAAI,QAAQ;QACZ,eAAe;YACX,IAAI,CAAC,UAAU,OAAO,EAAE;YAExB,MAAM,QAAQ,CAAC,oIAAqB,EAAE,OAAO;YAE7C,MAAM,UAAU;gBACZ;oBAAC;wBAAE,QAAQ;4BAAC;4BAAG;4BAAG;4BAAG;yBAAM;oBAAC;iBAAE;gBAC9B;oBAAC;oBAAQ;oBAAU;oBAAa;iBAAS;gBACzC;oBAAC;wBAAE,MAAM;oBAAU;oBAAG;wBAAE,MAAM;oBAAS;iBAAE;gBACzC;oBAAC;oBAAQ;iBAAQ;gBACjB;oBAAC;iBAAQ;aACZ;YAED,QAAQ,IAAI,MAAM,UAAU,OAAO,EAAE;gBACjC,OAAO;gBACP,aAAa;gBACb,SAAS;oBACL,SAAS,WAAW,QAAQ;gBAChC;gBACA,UAAU;YACd;YAEA,MAAM,WAAW,CAAC;YAClB,MAAM,EAAE,CAAC,eAAe;gBACpB,MAAM,QAAQ,MAAM,WAAW;gBAC/B,WAAW;YACf;YAEA,IAAI,WAAW;gBACX,MAAM,QAAQ,MAAM,OAAO,GAAG,IAAI;gBAClC,iBACI,MAAM,MAAM,GAAG,YACT,MAAM,KAAK,CAAC,GAAG,aAAa,QAC5B;YAEd;YACA,cAAc,OAAO,GAAG;YAExB,OAAO;gBACH,cAAc,OAAO,CAAC,GAAG,CAAC,eAAe,KAAO;gBAChD,cAAc,OAAO,GAAG;YAC5B;QACJ;QAEA;IACJ,GAAG;QAAC;QAAgB;QAAU;QAAW;KAAU;IAEnD,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,SAAS;IACb,GAAG;QAAC;QAAS;KAAS;IAEtB,IAAI,aAAa,cAAc,OAAO,EAAE;QACpC,qBAAO,8OAAC;YAAE,WAAU;sBAA6B;;;;;;IACrD;IAEA,qBACI,8OAAC;QACG,KAAK;QACL,WAAW,CAAC,OAAO,EAAE,WAAW,gBAAgB,eAAe;;;;;;AAG3E","debugId":null}},
    {"offset": {"line": 263, "column": 0}, "map": {"version":3,"sources":["file:///blogger/src/app/blogs/create/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport BloggerApi from \"@/lib/blogger\"\nimport Editor from \"@/components/Editor\"\nimport { useRouter } from \"next/navigation\"\nimport { Blog } from \"@/types/blog\"\n\nexport default function BlogCreate() {\n    const router = useRouter()\n    const [blogTitle, setBlogTitle] = useState<string>(\"\")\n    const [initialBlogBody, setInitialBlogBody] = useState<object | null>({\n        ops: [\n            {\n                insert: \"\\n\",\n            },\n        ],\n    })\n    const [loading, setLoading] = useState<boolean>(false)\n    const [finalBlogBody, setFinalBlogBody] = useState<object | null>(null)\n\n    async function handleCreate() {\n        setLoading(true)\n        try {\n            const response = await BloggerApi<{\n                blog: Omit<Blog, \"author\">\n            }>({\n                endpoint: `blog/create`,\n                method: \"POST\",\n                payload: {\n                    title: blogTitle,\n                    body: finalBlogBody,\n                    banner: null,\n                },\n            })\n            setBlogTitle(\"\")\n            setInitialBlogBody(null)\n            router.push(`/blogs/${response.blog.id}`)\n        } catch (e) {\n            console.error(\"Blog creation failed:\", e)\n        } finally {\n            setLoading(false)\n        }\n    }\n\n    return (\n        <div className=\"max-w-3xl mx-auto px-10 py-8 bg-gray-200 rounded-md h-auto\">\n            <h1 className=\"text-3xl font-bold mb-4\">Create New Blog</h1>\n\n            <div className=\"mb-6\">\n                <label className=\"block text-lg font-semibold mb-2\">\n                    Title\n                </label>\n                <input\n                    type=\"text\"\n                    className=\"w-full bg-gray-200 rounded-md border-gray-400 shadow-sm text-gray-900\n                focus:outline-none self-center h-[40px] p-2.5\"\n                    placeholder=\"Enter blog title...\"\n                    value={blogTitle}\n                    onChange={(e) => setBlogTitle(e.target.value)}\n                />\n            </div>\n\n            <div className=\"mb-6\">\n                <label className=\"block text-lg font-semibold mb-2\">\n                    Content\n                </label>\n                <div className=\"overflow-auto\">\n                    <Editor\n                        textOnly={false}\n                        initialContent={initialBlogBody}\n                        onChange={(e: object) => setFinalBlogBody(e)}\n                    />\n                </div>\n            </div>\n\n            <button\n                disabled={loading}\n                className=\"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50\"\n                onClick={handleCreate}\n            >\n                {loading ? \"Saving...\" : \"Create Blog\"}\n            </button>\n        </div>\n    )\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAQe,SAAS;IACpB,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAU;IACnD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;QAClE,KAAK;YACD;gBACI,QAAQ;YACZ;SACH;IACL;IACA,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAW;IAChD,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAElE,eAAe;QACX,WAAW;QACX,IAAI;YACA,MAAM,WAAW,MAAM,CAAA,GAAA,qHAAA,CAAA,UAAU,AAAD,EAE7B;gBACC,UAAU,CAAC,WAAW,CAAC;gBACvB,QAAQ;gBACR,SAAS;oBACL,OAAO;oBACP,MAAM;oBACN,QAAQ;gBACZ;YACJ;YACA,aAAa;YACb,mBAAmB;YACnB,OAAO,IAAI,CAAC,CAAC,OAAO,EAAE,SAAS,IAAI,CAAC,EAAE,EAAE;QAC5C,EAAE,OAAO,GAAG;YACR,QAAQ,KAAK,CAAC,yBAAyB;QAC3C,SAAU;YACN,WAAW;QACf;IACJ;IAEA,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAG,WAAU;0BAA0B;;;;;;0BAExC,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAM,WAAU;kCAAmC;;;;;;kCAGpD,8OAAC;wBACG,MAAK;wBACL,WAAU;wBAEV,aAAY;wBACZ,OAAO;wBACP,UAAU,CAAC,IAAM,aAAa,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;0BAIpD,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAM,WAAU;kCAAmC;;;;;;kCAGpD,8OAAC;wBAAI,WAAU;kCACX,cAAA,8OAAC,4HAAA,CAAA,UAAM;4BACH,UAAU;4BACV,gBAAgB;4BAChB,UAAU,CAAC,IAAc,iBAAiB;;;;;;;;;;;;;;;;;0BAKtD,8OAAC;gBACG,UAAU;gBACV,WAAU;gBACV,SAAS;0BAER,UAAU,cAAc;;;;;;;;;;;;AAIzC","debugId":null}}]
}