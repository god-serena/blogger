{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 109, "column": 0}, "map": {"version":3,"sources":["file:///blogger/src/lib/blogger.ts"],"sourcesContent":["import axios from \"axios\"\n\nasync function BloggerApi<T = unknown>({\n    method = \"GET\",\n    payload,\n    endpoint,\n}: {\n    method?: string\n    payload?: Record<string, unknown>\n    endpoint: string\n}): Promise<T> {\n    const access_token = localStorage.getItem(\"access_token\")\n\n    const axiosInstance = axios.create({\n        baseURL: \"http://localhost:8000/blogger-api/\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            ...(access_token\n                ? { Authorization: `Bearer ${access_token}` }\n                : {}),\n        },\n    })\n\n    try {\n        const response = await axiosInstance.request({\n            ...(payload ? { data: JSON.stringify(payload) } : {}),\n            method: method.toLowerCase(),\n            url: endpoint,\n        })\n        return response.data\n    } catch (error) {\n        if (axios.isAxiosError(error)) throw error.response\n        else throw error\n    }\n}\n\nexport default BloggerApi\n"],"names":[],"mappings":";;;AAAA;;AAEA,eAAe,WAAwB,EACnC,SAAS,KAAK,EACd,OAAO,EACP,QAAQ,EAKX;IACG,MAAM,eAAe,aAAa,OAAO,CAAC;IAE1C,MAAM,gBAAgB,qIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;QAC/B,SAAS;QACT,SAAS;YACL,gBAAgB;YAChB,GAAI,eACE;gBAAE,eAAe,CAAC,OAAO,EAAE,cAAc;YAAC,IAC1C,CAAC,CAAC;QACZ;IACJ;IAEA,IAAI;QACA,MAAM,WAAW,MAAM,cAAc,OAAO,CAAC;YACzC,GAAI,UAAU;gBAAE,MAAM,KAAK,SAAS,CAAC;YAAS,IAAI,CAAC,CAAC;YACpD,QAAQ,OAAO,WAAW;YAC1B,KAAK;QACT;QACA,OAAO,SAAS,IAAI;IACxB,EAAE,OAAO,OAAO;QACZ,IAAI,qIAAA,CAAA,UAAK,CAAC,YAAY,CAAC,QAAQ,MAAM,MAAM,QAAQ;aAC9C,MAAM;IACf;AACJ;uCAEe","debugId":null}},
    {"offset": {"line": 144, "column": 0}, "map": {"version":3,"sources":["file:///blogger/src/components/Editor.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/ban-ts-comment */\n// @ts-nocheck\n\"use client\"\n\nimport { useEffect, useRef, useState } from \"react\"\nimport \"quill/dist/quill.snow.css\"\nimport \"@/css_overrides/Editor.css\"\n\nexport default function QuillEditor({\n    onChange,\n    initialContent,\n    textOnly = false,\n    truncText = false,\n    maxLength = 2,\n}) {\n    const editorRef = useRef(null)\n    const quillInstance = useRef(null)\n    const [truncatedText, setTruncatedText] = useState(\"\")\n    const [content, setContent] = useState(initialContent)\n\n    useEffect(() => {\n        const toolbars = document.getElementsByClassName(\"ql-toolbar\")\n        if (toolbars.length) {\n            for (const toolbar of toolbars) {\n                toolbar.remove()\n            }\n        }\n        let quill = undefined\n        async function initQuill() {\n            if (!editorRef.current) return\n\n            const Quill = (await import(\"quill\")).default\n\n            const toolbar = [\n                [{ header: [1, 2, 3, false] }],\n                [\"bold\", \"italic\", \"underline\", \"strike\"],\n                [{ list: \"ordered\" }, { list: \"bullet\" }],\n                [\"link\", \"image\"],\n                [\"clean\"],\n            ]\n\n            quill = new Quill(editorRef.current, {\n                theme: \"snow\",\n                placeholder: \"What do you have in mind?\",\n                modules: {\n                    toolbar: textOnly ? false : toolbar,\n                },\n                readOnly: textOnly,\n            })\n\n            quill.setContents(initialContent)\n            quill.on(\"text-change\", () => {\n                const delta = quill.getContents()\n                setContent(delta)\n            })\n\n            if (truncText) {\n                const plain = quill.getText().trim()\n                setTruncatedText(\n                    plain.length > maxLength\n                        ? plain.slice(0, maxLength) + \"...\"\n                        : plain,\n                )\n            }\n            quillInstance.current = quill\n\n            return () => {\n                quillInstance.current.off(\"text-change\", () => {})\n                quillInstance.current = null\n            }\n        }\n\n        initQuill()\n    }, [initialContent, textOnly, maxLength, truncText])\n\n    useEffect(() => {\n        onChange(content)\n    }, [content, onChange])\n\n    if (truncText && quillInstance.current) {\n        return <p className=\"text-[14px] text-gray-500\">{truncatedText}</p>\n    }\n\n    return (\n        <div\n            ref={editorRef}\n            className={`editor ${textOnly ? \"select-none\" : \"select-text\"}`}\n        />\n    )\n}\n"],"names":[],"mappings":"AAAA,oDAAoD,GACpD,cAAc;;;;;AAGd;AAFA;;;;;AAMe,SAAS,YAAY,EAChC,QAAQ,EACR,cAAc,EACd,WAAW,KAAK,EAChB,YAAY,KAAK,EACjB,YAAY,CAAC,EAChB;IACG,MAAM,YAAY,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAE;IACzB,MAAM,gBAAgB,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAE;IAC7B,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACnD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,MAAM,WAAW,SAAS,sBAAsB,CAAC;QACjD,IAAI,SAAS,MAAM,EAAE;YACjB,KAAK,MAAM,WAAW,SAAU;gBAC5B,QAAQ,MAAM;YAClB;QACJ;QACA,IAAI,QAAQ;QACZ,eAAe;YACX,IAAI,CAAC,UAAU,OAAO,EAAE;YAExB,MAAM,QAAQ,CAAC,oIAAqB,EAAE,OAAO;YAE7C,MAAM,UAAU;gBACZ;oBAAC;wBAAE,QAAQ;4BAAC;4BAAG;4BAAG;4BAAG;yBAAM;oBAAC;iBAAE;gBAC9B;oBAAC;oBAAQ;oBAAU;oBAAa;iBAAS;gBACzC;oBAAC;wBAAE,MAAM;oBAAU;oBAAG;wBAAE,MAAM;oBAAS;iBAAE;gBACzC;oBAAC;oBAAQ;iBAAQ;gBACjB;oBAAC;iBAAQ;aACZ;YAED,QAAQ,IAAI,MAAM,UAAU,OAAO,EAAE;gBACjC,OAAO;gBACP,aAAa;gBACb,SAAS;oBACL,SAAS,WAAW,QAAQ;gBAChC;gBACA,UAAU;YACd;YAEA,MAAM,WAAW,CAAC;YAClB,MAAM,EAAE,CAAC,eAAe;gBACpB,MAAM,QAAQ,MAAM,WAAW;gBAC/B,WAAW;YACf;YAEA,IAAI,WAAW;gBACX,MAAM,QAAQ,MAAM,OAAO,GAAG,IAAI;gBAClC,iBACI,MAAM,MAAM,GAAG,YACT,MAAM,KAAK,CAAC,GAAG,aAAa,QAC5B;YAEd;YACA,cAAc,OAAO,GAAG;YAExB,OAAO;gBACH,cAAc,OAAO,CAAC,GAAG,CAAC,eAAe,KAAO;gBAChD,cAAc,OAAO,GAAG;YAC5B;QACJ;QAEA;IACJ,GAAG;QAAC;QAAgB;QAAU;QAAW;KAAU;IAEnD,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,SAAS;IACb,GAAG;QAAC;QAAS;KAAS;IAEtB,IAAI,aAAa,cAAc,OAAO,EAAE;QACpC,qBAAO,8OAAC;YAAE,WAAU;sBAA6B;;;;;;IACrD;IAEA,qBACI,8OAAC;QACG,KAAK;QACL,WAAW,CAAC,OAAO,EAAE,WAAW,gBAAgB,eAAe;;;;;;AAG3E","debugId":null}},
    {"offset": {"line": 263, "column": 0}, "map": {"version":3,"sources":["file:///blogger/src/app/blogs/page.tsx"],"sourcesContent":["\"use client\"\n\nimport BloggerApi from \"@/lib/blogger\"\nimport { Blog, Blogs } from \"@/types/blog\"\nimport { useEffect, useState } from \"react\"\nimport Image from \"next/image\"\nimport Editor from \"@/components/Editor\"\nimport { useRouter } from \"next/navigation\"\n\nexport default function BlogsPage() {\n    const router = useRouter()\n    const [blogsList, setBlogsList] = useState<Blog[]>([])\n    const [top, setTop] = useState(0)\n    const [loading, setLoading] = useState<boolean>(true)\n\n    async function fetchBlogs(top: number): Promise<Blog[]> {\n        try {\n            const response = await BloggerApi<Blogs>({\n                endpoint: `blog?top=${top}`,\n            })\n            return response.blogs\n        } catch (error) {\n            console.error(error)\n            return []\n        }\n    }\n\n    function handleLoadMore() {\n        setTop((prev) => (prev += 20))\n    }\n\n    function handleSelectedBlog(blogID: number) {\n        router.push(`/blogs/${blogID}`)\n    }\n\n    useEffect(() => {\n        async function getBlogs() {\n            const result = await fetchBlogs(top)\n            setBlogsList((prev) => {\n                const keys = prev.map((blog) => blog.id)\n                const updated = result.filter(\n                    (fetched) => !keys.includes(fetched.id),\n                )\n                return [...prev, ...updated]\n            })\n        }\n        setLoading(false)\n        getBlogs()\n    }, [top])\n\n    if (loading) return <div>Loading...</div>\n\n    return (\n        <div className=\"w-full p-10\">\n            <div className=\"grid lg:grid-cols-4 md:grid-cols-3 sm:grid-cols-2 gap-3\">\n                {blogsList?.length > 0 &&\n                    blogsList.map((blog: Blog) => (\n                        <article\n                            key={blog.id}\n                            className=\"flex flex-col items-center justify-between h-[500px] p-5 bg-gray-200 rounded-md w-full hover:bg-gray-300 cursor-pointer\"\n                            onClick={() => handleSelectedBlog(blog.id)}\n                        >\n                            <Image\n                                src=\"https://placehold.co/600x400\"\n                                alt=\"banner\"\n                                width={300}\n                                height={200}\n                                priority\n                                unoptimized\n                            />\n                            <h2 className=\"text-2xl font-bold mb-2 mt-4 text-center line-clamp-2\">\n                                {blog.title}\n                            </h2>\n                            <Editor\n                                textOnly\n                                truncText\n                                initialContent={blog.body}\n                                maxLength={200}\n                                onChange={() => {}}\n                            />\n                            <p className=\"text-sm text-white text-center bg-blue-400 rounded p-2 self-end\">\n                                {new Date(\n                                    blog.updated_at ?? blog.published_at,\n                                ).toLocaleDateString()}\n                            </p>\n                        </article>\n                    ))}\n            </div>\n\n            <div className=\"mt-10 flex justify-center\">\n                <button\n                    onClick={handleLoadMore}\n                    className=\"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition\"\n                >\n                    Load More\n                </button>\n            </div>\n        </div>\n    )\n}\n"],"names":[],"mappings":";;;;AAEA;AAEA;AACA;AACA;AACA;AAPA;;;;;;;AASe,SAAS;IACpB,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAU,EAAE;IACrD,MAAM,CAAC,KAAK,OAAO,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC/B,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAW;IAEhD,eAAe,WAAW,GAAW;QACjC,IAAI;YACA,MAAM,WAAW,MAAM,CAAA,GAAA,qHAAA,CAAA,UAAU,AAAD,EAAS;gBACrC,UAAU,CAAC,SAAS,EAAE,KAAK;YAC/B;YACA,OAAO,SAAS,KAAK;QACzB,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC;YACd,OAAO,EAAE;QACb;IACJ;IAEA,SAAS;QACL,OAAO,CAAC,OAAU,QAAQ;IAC9B;IAEA,SAAS,mBAAmB,MAAc;QACtC,OAAO,IAAI,CAAC,CAAC,OAAO,EAAE,QAAQ;IAClC;IAEA,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,eAAe;YACX,MAAM,SAAS,MAAM,WAAW;YAChC,aAAa,CAAC;gBACV,MAAM,OAAO,KAAK,GAAG,CAAC,CAAC,OAAS,KAAK,EAAE;gBACvC,MAAM,UAAU,OAAO,MAAM,CACzB,CAAC,UAAY,CAAC,KAAK,QAAQ,CAAC,QAAQ,EAAE;gBAE1C,OAAO;uBAAI;uBAAS;iBAAQ;YAChC;QACJ;QACA,WAAW;QACX;IACJ,GAAG;QAAC;KAAI;IAER,IAAI,SAAS,qBAAO,8OAAC;kBAAI;;;;;;IAEzB,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAI,WAAU;0BACV,WAAW,SAAS,KACjB,UAAU,GAAG,CAAC,CAAC,qBACX,8OAAC;wBAEG,WAAU;wBACV,SAAS,IAAM,mBAAmB,KAAK,EAAE;;0CAEzC,8OAAC,6HAAA,CAAA,UAAK;gCACF,KAAI;gCACJ,KAAI;gCACJ,OAAO;gCACP,QAAQ;gCACR,QAAQ;gCACR,WAAW;;;;;;0CAEf,8OAAC;gCAAG,WAAU;0CACT,KAAK,KAAK;;;;;;0CAEf,8OAAC,4HAAA,CAAA,UAAM;gCACH,QAAQ;gCACR,SAAS;gCACT,gBAAgB,KAAK,IAAI;gCACzB,WAAW;gCACX,UAAU,KAAO;;;;;;0CAErB,8OAAC;gCAAE,WAAU;0CACR,IAAI,KACD,KAAK,UAAU,IAAI,KAAK,YAAY,EACtC,kBAAkB;;;;;;;uBAzBnB,KAAK,EAAE;;;;;;;;;;0BA+B5B,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC;oBACG,SAAS;oBACT,WAAU;8BACb;;;;;;;;;;;;;;;;;AAMjB","debugId":null}}]
}