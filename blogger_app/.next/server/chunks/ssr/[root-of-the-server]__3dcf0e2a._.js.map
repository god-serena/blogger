{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 109, "column": 0}, "map": {"version":3,"sources":["file:///blogger/src/lib/blogger.ts"],"sourcesContent":["import axios from \"axios\"\n\nasync function BloggerApi<T = unknown>({\n    method = \"GET\",\n    payload,\n    endpoint,\n}: {\n    method?: string\n    payload?: Record<string, unknown>\n    endpoint: string\n}): Promise<T> {\n    const access_token = localStorage.getItem(\"access_token\")\n\n    const axiosInstance = axios.create({\n        baseURL: \"http://localhost:8000/blogger-api/\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            ...(access_token\n                ? { Authorization: `Bearer ${access_token}` }\n                : {}),\n        },\n    })\n\n    try {\n        const response = await axiosInstance.request({\n            ...(payload ? { data: JSON.stringify(payload) } : {}),\n            method: method.toLowerCase(),\n            url: endpoint,\n        })\n        return response.data\n    } catch (error) {\n        if (axios.isAxiosError(error)) throw error.response\n        else throw error\n    }\n}\n\nexport default BloggerApi\n"],"names":[],"mappings":";;;AAAA;;AAEA,eAAe,WAAwB,EACnC,SAAS,KAAK,EACd,OAAO,EACP,QAAQ,EAKX;IACG,MAAM,eAAe,aAAa,OAAO,CAAC;IAE1C,MAAM,gBAAgB,qIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;QAC/B,SAAS;QACT,SAAS;YACL,gBAAgB;YAChB,GAAI,eACE;gBAAE,eAAe,CAAC,OAAO,EAAE,cAAc;YAAC,IAC1C,CAAC,CAAC;QACZ;IACJ;IAEA,IAAI;QACA,MAAM,WAAW,MAAM,cAAc,OAAO,CAAC;YACzC,GAAI,UAAU;gBAAE,MAAM,KAAK,SAAS,CAAC;YAAS,IAAI,CAAC,CAAC;YACpD,QAAQ,OAAO,WAAW;YAC1B,KAAK;QACT;QACA,OAAO,SAAS,IAAI;IACxB,EAAE,OAAO,OAAO;QACZ,IAAI,qIAAA,CAAA,UAAK,CAAC,YAAY,CAAC,QAAQ,MAAM,MAAM,QAAQ;aAC9C,MAAM;IACf;AACJ;uCAEe","debugId":null}},
    {"offset": {"line": 144, "column": 0}, "map": {"version":3,"sources":["file:///blogger/src/components/Editor.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/ban-ts-comment */\n// @ts-nocheck\n\"use client\"\n\nimport { useEffect, useRef, useState } from \"react\"\nimport \"quill/dist/quill.snow.css\"\nimport \"@/css_overrides/Editor.css\"\n\nexport default function QuillEditor({\n    onChange,\n    initialContent,\n    textOnly = false,\n    truncText = false,\n    maxLength = 2,\n}) {\n    const editorRef = useRef(null)\n    const quillInstance = useRef(null)\n    const [truncatedText, setTruncatedText] = useState(\"\")\n    const [content, setContent] = useState(initialContent)\n\n    useEffect(() => {\n        const toolbars = document.getElementsByClassName(\"ql-toolbar\")\n        if (toolbars.length) {\n            for (const toolbar of toolbars) {\n                toolbar.remove()\n            }\n        }\n        let quill = undefined\n        async function initQuill() {\n            if (!editorRef.current) return\n\n            const Quill = (await import(\"quill\")).default\n\n            const toolbar = [\n                [{ header: [1, 2, 3, false] }],\n                [\"bold\", \"italic\", \"underline\", \"strike\"],\n                [{ list: \"ordered\" }, { list: \"bullet\" }],\n                [\"link\", \"image\"],\n                [\"clean\"],\n            ]\n\n            quill = new Quill(editorRef.current, {\n                theme: \"snow\",\n                placeholder: \"What do you have in mind?\",\n                modules: {\n                    toolbar: textOnly ? false : toolbar,\n                },\n                readOnly: textOnly,\n            })\n\n            quill.setContents(initialContent)\n            quill.on(\"text-change\", () => {\n                const delta = quill.getContents()\n                setContent(delta)\n            })\n\n            if (truncText) {\n                const plain = quill.getText().trim()\n                setTruncatedText(\n                    plain.length > maxLength\n                        ? plain.slice(0, maxLength) + \"...\"\n                        : plain,\n                )\n            }\n            quillInstance.current = quill\n\n            return () => {\n                quillInstance.current.off(\"text-change\", () => {})\n                quillInstance.current = null\n            }\n        }\n\n        initQuill()\n    }, [initialContent, textOnly, maxLength, truncText])\n\n    useEffect(() => {\n        onChange(content)\n    }, [content, onChange])\n\n    if (truncText && quillInstance.current) {\n        return <p className=\"text-[14px] text-gray-500\">{truncatedText}</p>\n    }\n\n    return (\n        <div\n            ref={editorRef}\n            className={`editor ${textOnly ? \"select-none\" : \"select-text\"}`}\n        />\n    )\n}\n"],"names":[],"mappings":"AAAA,oDAAoD,GACpD,cAAc;;;;;AAGd;AAFA;;;;;AAMe,SAAS,YAAY,EAChC,QAAQ,EACR,cAAc,EACd,WAAW,KAAK,EAChB,YAAY,KAAK,EACjB,YAAY,CAAC,EAChB;IACG,MAAM,YAAY,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAE;IACzB,MAAM,gBAAgB,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAE;IAC7B,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACnD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,MAAM,WAAW,SAAS,sBAAsB,CAAC;QACjD,IAAI,SAAS,MAAM,EAAE;YACjB,KAAK,MAAM,WAAW,SAAU;gBAC5B,QAAQ,MAAM;YAClB;QACJ;QACA,IAAI,QAAQ;QACZ,eAAe;YACX,IAAI,CAAC,UAAU,OAAO,EAAE;YAExB,MAAM,QAAQ,CAAC,oIAAqB,EAAE,OAAO;YAE7C,MAAM,UAAU;gBACZ;oBAAC;wBAAE,QAAQ;4BAAC;4BAAG;4BAAG;4BAAG;yBAAM;oBAAC;iBAAE;gBAC9B;oBAAC;oBAAQ;oBAAU;oBAAa;iBAAS;gBACzC;oBAAC;wBAAE,MAAM;oBAAU;oBAAG;wBAAE,MAAM;oBAAS;iBAAE;gBACzC;oBAAC;oBAAQ;iBAAQ;gBACjB;oBAAC;iBAAQ;aACZ;YAED,QAAQ,IAAI,MAAM,UAAU,OAAO,EAAE;gBACjC,OAAO;gBACP,aAAa;gBACb,SAAS;oBACL,SAAS,WAAW,QAAQ;gBAChC;gBACA,UAAU;YACd;YAEA,MAAM,WAAW,CAAC;YAClB,MAAM,EAAE,CAAC,eAAe;gBACpB,MAAM,QAAQ,MAAM,WAAW;gBAC/B,WAAW;YACf;YAEA,IAAI,WAAW;gBACX,MAAM,QAAQ,MAAM,OAAO,GAAG,IAAI;gBAClC,iBACI,MAAM,MAAM,GAAG,YACT,MAAM,KAAK,CAAC,GAAG,aAAa,QAC5B;YAEd;YACA,cAAc,OAAO,GAAG;YAExB,OAAO;gBACH,cAAc,OAAO,CAAC,GAAG,CAAC,eAAe,KAAO;gBAChD,cAAc,OAAO,GAAG;YAC5B;QACJ;QAEA;IACJ,GAAG;QAAC;QAAgB;QAAU;QAAW;KAAU;IAEnD,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,SAAS;IACb,GAAG;QAAC;QAAS;KAAS;IAEtB,IAAI,aAAa,cAAc,OAAO,EAAE;QACpC,qBAAO,8OAAC;YAAE,WAAU;sBAA6B;;;;;;IACrD;IAEA,qBACI,8OAAC;QACG,KAAK;QACL,WAAW,CAAC,OAAO,EAAE,WAAW,gBAAgB,eAAe;;;;;;AAG3E","debugId":null}},
    {"offset": {"line": 263, "column": 0}, "map": {"version":3,"sources":["file:///blogger/src/app/blogs/%5BblogID%5D/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport { useParams, useSearchParams } from \"next/navigation\"\nimport Image from \"next/image\"\nimport { Blog, Author } from \"@/types/blog\"\nimport BloggerApi from \"@/lib/blogger\"\nimport Editor from \"@/components/Editor\"\n\nexport default function BlogDetails() {\n    const params = useParams()\n    const searchQuery = useSearchParams()\n    const { blogID } = params\n\n    const [blog, setBlog] = useState<Blog | null>(null)\n    const [loading, setLoading] = useState<boolean>(true)\n    const [isEditing, setIsEditing] = useState<boolean>(\n        searchQuery.get(\"edit\") === \"true\",\n    )\n    const [blogBody, setBlogBody] = useState<object | null>(null)\n    const [isSaving, setIsSaving] = useState<boolean>(false)\n\n    async function fetchBlog(): Promise<Blog | null> {\n        try {\n            const response = await BloggerApi<{\n                blog: Omit<Blog, \"author\">\n                author: Author\n            }>({\n                endpoint: `blog/${blogID}`,\n            })\n\n            const fullBlog: Blog = {\n                ...response.blog,\n                author: response.author,\n            }\n\n            return fullBlog\n        } catch (e) {\n            console.error(e)\n            return null\n        }\n    }\n\n    async function handleSave() {\n        try {\n            setIsSaving(true)\n            await BloggerApi<Blog>({\n                endpoint: `blog/update/${blogID}`,\n                method: \"PATCH\",\n                payload: {\n                    body: blogBody,\n                },\n            })\n            const result = await fetchBlog()\n            setBlog(result)\n            if (result) setBlogBody(result.body)\n            setIsSaving(false)\n            setIsEditing(false)\n        } catch (e) {\n            console.error(e)\n        }\n    }\n\n    useEffect(() => {\n        async function getBlog() {\n            const result: Blog | null = await fetchBlog()\n            setBlog(result)\n            if (result) setBlogBody(result.body)\n            setLoading(false)\n        }\n        getBlog()\n    }, [])\n\n    if (loading) return <div>Loading...</div>\n    if (!blog) return <div>No blog found.</div>\n\n    return (\n        <div className=\"max-w-3xl mx-auto px-4 py-8 bg-gray-200 rounded-md h-[850px]\">\n            <div className=\"flex gap-10 p-5 justify-between\">\n                <div className=\"m-auto self-center\">\n                    <h1 className=\"text-3xl font-bold mb-4\">{blog.title}</h1>\n                    <div className=\"flex items-center gap-4 mb-6\">\n                        <Image\n                            src=\"/user.svg\"\n                            alt={blog.author.full_name}\n                            width={68}\n                            height={68}\n                            className=\"rounded-full\"\n                        />\n                        <div>\n                            <p className=\"font-semibold\">\n                                {blog.author.full_name}\n                            </p>\n                            <p className=\"text-sm text-gray-500\">\n                                {blog?.updated_at\n                                    ? \"Updated at \"\n                                    : \"Published on \"}\n                                {new Date(\n                                    blog?.updated_at ?? blog.published_at,\n                                ).toDateString()}\n                            </p>\n                        </div>\n                    </div>\n                </div>\n                <Image\n                    src=\"https://placehold.co/600x400\"\n                    alt=\"banner\"\n                    width={300}\n                    height={200}\n                    priority\n                    unoptimized\n                />\n            </div>\n            <div className=\"ml-10 flex w-full gap-2\">\n                {!isEditing && (\n                    <button\n                        className=\"self-center bg-blue-600 h-10 w-30 flex rounded-md shadow hover:bg-blue-700 mr-10\"\n                        onClick={() => setIsEditing(true)}\n                    >\n                        <p className=\"w-full self-center text-white text-center\">\n                            Edit\n                        </p>\n                    </button>\n                )}\n                {isEditing && (\n                    <>\n                        <button className=\"self-center bg-blue-600 h-10 w-30 flex rounded-md shadow hover:bg-blue-700 mr-10\">\n                            <p\n                                className=\"w-full self-center text-white text-center\"\n                                onClick={handleSave}\n                            >\n                                {isSaving ? \"Saving...\" : \"Save\"}\n                            </p>\n                        </button>\n                        <button\n                            className=\"self-center bg-red-600 h-10 w-30 flex rounded-md shadow hover:bg-red-700 mr-10\"\n                            onClick={() => {\n                                setIsEditing(false)\n                            }}\n                        >\n                            <p\n                                className=\"w-full self-center text-white text-center\"\n                                onClick={() => {\n                                    setBlog((prev) => ({\n                                        ...prev,\n                                    }))\n                                }}\n                            >\n                                Discard\n                            </p>\n                        </button>\n                    </>\n                )}\n            </div>\n            <hr className=\"h-1 my-8 bg-gray-200 border-0 rounded-sm dark:bg-gray-700\"></hr>\n            <div className=\"h-[400px] border-red-200 flex flex-col\">\n                <Editor\n                    textOnly={!isEditing}\n                    initialContent={blog.body}\n                    onChange={(e: object) => setBlogBody(e)}\n                />\n            </div>\n        </div>\n    )\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}